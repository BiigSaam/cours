<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Consignes TP4 - Vitejs</title>
    <link
      rel="stylesheet"
      href="https://danyellow.net/cours-mmi/consignes.css"
    />
  </head>

  <body>
    <header>
      <h1 class="h1">Consignes de la pratique - TP4 - Vitejs</h1>
      <details class="consignes-conteneur" open>
        <summary>
          <h1 class="h1">Partie 1 (cliquer pour afficher / cacher)</h1>
        </summary>
        <ol class="liste-consignes">
          <li>
            Créez votre premier projet vitejs grâce à la commande <code>npm create vite@latest __nom_de_dossier__</code>
            <p class="note-information">Durant la mise en place du projet vite, pensez à sélectionner un projet "Vanilla" et utiliser le langage "Javascript". La sélection se fait avec les flèches et la validation avec la touche entrée.</p>
          </li>
          <li>Installez les dépendances avec <code>npm install</code> (dans le dossier crée par vite)</li>
          <li>Lancez le projet via la commande <code>npm run dev</code></li>
          <li>Observez un peu le code
            <ul>
                <li>Ajoutez et/ou supprimez du code HTML</li>
                <li>Ajoutez un nouveau fichier CSS (et des sélecteurs dans le fichier) puis importez-le dans le fichier main.js</li>
            </ul>
          </li>
          <li>Ajoutez un fichier .css ou .js dans le dossier public et chargez-le dans votre fichier .html qu'observez-vous quand vous mettez à jour le fichier ?
            <p class="note-information">N'oubliez pas qu'il ne faut pas mettre "/public/" dans le chemin du fichier.</p>
        </li>
        </ol>
        <section class="note-information">
            <p>Il y a trois commandes dans le fichier package.json</p>
            <ol>
                <li>dev : lance un serveur qui permet d'accéder au projet + recompile tous les fichiers (sauf ceux dans le dossier public/) à chaque modification </li>
                <li>build : compile le projet pour la production</li>
                <li>preview : lance un serveur de production à partir d'un build (nécessite d'avoir lancé la commande <code>npm run build</code> avant)</li>
            </ol>
        </section>
      </details>
      <details class="consignes-conteneur">
        <summary>
          <h1 class="h1">Partie 2 (cliquer pour afficher / cacher)</h1>
        </summary>
        <ol class="liste-consignes">
          <li>
            Installez sass, dans le projet précédemment crée, avec la commande <code>npm install -D sass</code> à la racine
            <p class="note-information">Le paramètre "-D" (ou --save-dev) indique que votre dépendance node n'est utile que dans l'environnement de développement. Et donc n'a pas à être dans le build final de notre application.</p>
          </li>
          <li>
            Changez l'extension d'un de vos fichiers .scss en .css
          </li>
          <li>Utilisez les fonctionnalités de SCSS comme l'imbrication de style (nesting) 
            <ul>
                <li><a href="https://sass-lang.com/documentation/style-rules/#nesting" target="_blank">Voir documentation de SCSS sur l'imbrication de style (ouverture dans un nouvel onglet)</a></li>
            </ul>
          </li>
          <li>Exportez votre projet pour la production avec la commande <code>npm run build</code></li>
        </ol>
      </details>
      <details class="consignes-conteneur">
        <summary>
          <h1 class="h1">Partie 3 (cliquer pour afficher / cacher)</h1>
        </summary>
        <section class="note-information">
            <p>Par défaut, VSCode ne gère pas les fichiers .twig, il faudra installer un plugin gratuit twig via le système d'extensions pour avoir la coloration syntaxique ainsi que l'auto-complétion liée au langage. Et pour avoir l'auto-complétion HTML dans les fichiers .twig, il faudra modifier les réglages de VS Code.</p>
            <ol>
                <li>Allez dans le menu File > Preferences > Settings</li>
                <li>Recherchez "emmet" dans la barre de recherche</li>
                <li>Dans la zone "Emmet: Includes languages", cliquez sur "Add Item" et ajoutez "twig" dans la zone "key" et "html" dans la zone "value"</li>
            </ol>
        </section>

        <ol class="liste-consignes">
          <li>
            Ouvrez la console dans le dossier "ressources/vite-twig/" et installez les dépendances avec la commande <code>npm install</code>
            <p class="note-information">Pour ouvrir directement votre dossier dans la console. Vous pouvez le glisser dans VSCode puis aller dans le menu Terminal > New Terminal</p>
          </li>
          <li>Lancez le projet avec <code>npm start</code> ou <code>npm run dev</code></li>
          <li>Prenez en main le moteur de template Twig en effectuant les tâches suivantes :
            <ul>
                <li>Créez et affichez une variable. <a href="https://twig.symfony.com/doc/3.x/tags/set.html" target="_blank" rel="noopener noreferrer">Voir documentation de set.</a></li>
                <li>Utilisez une condition if/else. <a href="https://twig.symfony.com/doc/3.x/tags/if.html" target="_blank" rel="noopener noreferrer">Voir documentation de if/else.</a></li>
                <li>
                    Exportez une partie du code du fichier "index.twig" dans d'autres fichiers "twig" et importez-les grâce à la fonction "include".
                    <a href="https://twig.symfony.com/doc/3.x/functions/include.html" target="_blank" rel="noopener noreferrer">Voir documentation de la fonction "include".</a>
                    <p class="note-information">Les fichiers qui vont être chargés dans d'autres fichiers doivent être dans le dossier src/components (il peut contenir des sous-dossiers)</p>
                </li>
                <li>
                    Créez un template de base avec des blocks puis faites-en hériter une page "enfant". <a href="https://twig.symfony.com/doc/3.x/tags/extends.html" target="_blank" rel="noopener noreferrer">Voir documentation de extends.</a>
                </li>
            </ul>
          </li>
        </ol>
      </details>
      <details class="consignes-conteneur">
        <summary>
          <h1 class="h1">Partie 4 (cliquer pour afficher / cacher)</h1>
        </summary>
        <ol class="liste-consignes">
          <li>Affichez le menu grâce au contenu du fichier menu.json contenu dans le dossier src/menu
            <ul>
                <li>Si ce n'est pas déjà fait, mettez dans un fichier dédié (dossier src/components) le menu</li>
            </ul>
          </li>
          <li>Réécrivez le CSS (une partie) du projet en SCSS et rendez le site compatible au mobile grâce aux media queries</li>
          <li>Créez une nouvelle page twig reprenant une partie de la structure actuelle comme le menu et les bulles</li>
          <li>Faites un lien entre les pages dans le menu
            <ul>
                <li>Note : L'attribut "href" doit contenir un lien vers un fichier .html, pas .twig</li>
                <li>Note 2 : Les modifications de lien doivent être faites dans le fichier src/data/menu.json</li>
            </ul>
          </li>
          <li>Gérez la couleur de la bulle + la page active dans le menu grâce à une variable twig</li>
        </ol>
        <section class="note-information">
            <p>Notes</p>
            <ol>
                <li>Sass/Scss n'est pas installé dans le projet. Ne pas oublier de faire <code>npm install -D sass</code></li>
                <li>Il y a des mixins (des blocs) permettant de gérer le responsive dans le fichier src/assets/styles/media-queries.scss. Voir example à la fin du fichier.</li>
                <li>Pensez à partager le CSS en plusieurs fichiers SCSS pour les rendre plus digestes</li>
            </ol>
        </section>
      </details>
      <details class="consignes-conteneur">
        <summary>
          <h1 class="h1">Partie 5 (cliquer pour afficher / cacher)</h1>
        </summary>
        <ol class="liste-consignes">
          <li>Créez un fichier .env et ajoutez une variable d'environnement qui sera affichée dans une de vos pages .twig
            <p class="note-information">Pour rappel, si votre variable d'environnement ne commence pas par "VITE_", elle ne sera pas prise en compte par vite</p>
          </li>
          <li>Avec une variable d'environnement, gérez le port du serveur de développement (clé "server.port" dans le fichier vite.config.js)
            <ul class="note-information">
                <li>La configuration actuelle du fichier vite.config.js ne permet pas de gérer ce cas, il faudra donc la modifier un peu. <a href="https://vitejs.dev/config/#using-environment-variables-in-config" target="_blank" rel="noopener noreferrer">Accéder à la documentation pour en savoir plus (ouverture dans un nouvel onglet)</a>.
                </li>
                <li>L'utilisation de la fonction "defineConfig()" comme présenté dans la documentation est facultatif.</li>
                <li>Les valeurs des variables d'environnement sont castées en chaîne de caractères, il faudra la caster en number pour le port du serveur</li>
            </ul>
        </li>
        </ol>
      </details>
    </header>
  </body>
</html>
