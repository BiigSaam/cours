<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Consignes TP2 - Tests end-to-end</title>
    <link
      rel="stylesheet"
      href="https://danyellow.net/cours-mmi/consignes.css"
    />
  </head>

  <body>
    <header>
      <h1 class="h1">Consignes de la pratique - TP2 - Tests end-to-end</h1>
      <details class="consignes-conteneur" open>
        <summary>
          <h1 class="h1">Partie 1 (cliquer pour afficher / cacher)</h1>
        </summary>
        <ol class="liste-consignes">
          <li>
            Ouvrez dans la console (Terminal / iTerm2 sur MacOS ou git bash sur
            Windows) le dossier ressources/cypress et installez les dépendances
          </li>
          <li>
            Ouvrez cypress en exécutant la
            commande <code>npm run cypress</code> dans la console
          </li>
          <li>Cliquez sur le fichier "example.cy.js" pour exécuter votre premier test e2e</li>
        </ol>
      </details>
      <details class="consignes-conteneur">
        <summary>
          <h1 class="h1">Partie 2 (cliquer pour afficher / cacher)</h1>
        </summary>
        <ol class="liste-consignes">
          <li>Améliorez le test contenu dans "cypress/e2e/example.cy.js" pour cliquer sur la première actualité (zone "actualités")</li>
          <li>Vérifiez que vous êtes bien arrivé sur la page d'une actualité
            <ul>
              <li>Pour éviter un test trop rigide, n'allez pas tester l'égalité parfaite, cela n'a pas trop de sens. Les liens d'actualité ont pour racine "https://www.cyu.fr/universite/media-et-communication/actualites/" testez si l'url courante contient bien cette partie grâce à <code>cy.location("href").should("contains", "url")</code></li>
            </ul>
          </li>
        </ol>
        <p class="note-information">
          <a href="https://example.cypress.io/" target="_blank">Accéder à un ensemble d'exemples (ouverture dans un nouvel onglet)</a>
        </p>
      </details>
      <details class="consignes-conteneur">
        <summary>
          <h1 class="h1">Partie 3 (cliquer pour afficher / cacher)</h1>
        </summary>
        <ul class="liste-consignes">
          <li>
            Ajoutez un nouveau test (fichier de test ou block de test) qui respecte le plan suivant :
            <ol>
              <li>Accède au site wikipédia (https://fr.wikipedia.org/wiki/Wikip%C3%A9dia:Accueil_principal)</li>
              <li>Effectue une recherche (de votre choix)</li>
              <li>S'assure que vous êtes sur la bonne page</li>
            </ol>
          </li>
        </ul>
        <p class="note-information">Si vous ajoutez un nouveau test,  n'oubliez</p>
      </details>
      <details class="consignes-conteneur">
        <summary>
          <h1 class="h1">Partie 4 (cliquer pour afficher / cacher)</h1>
        </summary>
        <ul class="liste-consignes">
          <li>Ouvrez dans la console (Terminal / iTerm2 sur MacOS ou git bash sur Windows) le dossier ressources/cypress (nouvelle fenêtre ou onglet)
          </li>
          <li>
            Exécutez la commande <code>npm run server</code>
          </li>
          <li>
            Ajoutez un nouveau fichier de test avec le test qui respecte le plan suivant :
            <ol>
              <li>Accède à http://localhost:3000</li>
              <li>Remplit le formulaire</li>
              <li>Vérifie que le formulaire a été soumis
                <ul>
                  <li>Pensez à tester / découvrir le formulaire manuellement avant d'écrire vos tests</li>
                  <li>Note : Il existe plusieurs moyens de savoir que le formulaire a été soumis</li>
                </ul>
              </li>
            </ol>
          </li>
        </ul>
        <section class="note-information">
          <p>Pour manipuler un &lt;select>, il faudra utiliser la méthode ".select()"</p>
          <ul>
            <li>
              <a href="https://docs.cypress.io/api/commands/select" target="_blank">Accéder à la documentation de cy.select() (ouverture dans un nouvel onglet)</a>
            </li>
          </ul>
        </section>
      </details>
    </header>
  </body>
</html>
