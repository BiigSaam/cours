{% extends "layouts/back-end/base.twig" %}

{% import "components/back-end/pagination.twig" as pagination %}


{% block main %}
{% use "components/back-end/widget-container.twig" %}

    {% block widget_content %}2{% endblock %}
    {% block widget_title %}Liste SAEs{% endblock %}

	<div class="bg-white rounded-2xl shadow-md pb-6">
		<header class="mb-6 p-6 pl-8 flex justify-between">
			<p class="text-xl font-bold">Liste SAEs</p>
            <a href="{{ admin_url ~ "/saes/add" }}" class="text-md items-center text-blue-500 hover:text-blue-900">Ajouter nouvelle SAE</a>
		</header>

		<table class="w-full table-fixed bg-white rounded-lg overflow-hidden border-collapse">
			<thead class="">
				<tr class="text-slate-800">
					<th class="font-bold pl-8  text-left border-solid border-slate-200 border-b pb-5">Titre</th>
					<th class="font-bold pl-8 text-left border-solid border-slate-200 border-b pb-5">Description</th>
					<th class="pl-8 border-solid border-slate-200 border-b pb-5"></th>
					<th class="pl-8 border-solid border-slate-200 border-b pb-5"></th>
				</tr>
			</thead>
			<tbody>
				{% for item in list_saes.data %}
					<tr class="odd:bg-neutral-50">
						<td class="bg-transparent border-solid border-slate-200 border-b p-4 pl-8">{{ item.title }}</td>
						<td class="p-4 pl-8 bg-transparent border-solid border-slate-200 border-b shadow-transparent">
							<p class="line-clamp-1" title="{{ item.content }}">{{ item.content }}</p>
						</td>
						<td class="p-4 pl-8 bg-transparent border-solid border-slate-200 border-b shadow-transparent"><a href="{{ current_url ~ '/' ~ item._id }}" class="text-blue-500 hover:text-blue-900">Editer</a></td>
						<td class="p-4 pl-8 bg-transparent border-solid border-slate-200 border-b shadow-transparent">Supprimer</td>
					</tr>
				{% else %}
					<tr>
						<td colspan="4" class="text-center bg-transparent border-solid border-slate-200 border-b p-4 pl-8">Pas de contenu pour le moment</td>
					</tr>
					<tr>
					{% endfor %}
				</tbody>
			</tbody>
		</table>
        <footer class="flex justify-between px-6">
            {{ pagination.previous("?page=" ~ (list_saes.page - 1), list_saes.page == 1) }}
            <ul class="flex">
                {% for i in 1..list_saes.total_pages %}
                    <li>
                        <a class="{{ (list_saes.page == i) ? 'border-t-indigo-200' : '' }} hover:border-t-indigo-500 block p-4 border-t-2 border-t-transparent border-solid" href="{{ current_url ~ "?page=" ~ i }}">{{ i }}</a>
                    </li>
                {% endfor %}
            </ul>
            {{ pagination.next("?page=" ~ (list_saes.page + 1), list_saes.page == list_saes.total_pages) }}
        </footer>
	</div>
{% endblock %}
